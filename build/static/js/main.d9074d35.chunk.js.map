{"version":3,"sources":["components/services.js","app.js","index.js"],"names":["Axios","get","then","response","data","NewObj","post","deleteObj","delete","id","App","useState","persons","setPersons","newName","setNewName","newPhoneN","setNewPhoneN","filter","setFilter","errorMessage","setErrorMessage","useEffect","services","ErrorMessage","message","className","onSubmit","event","preventDefault","nameObject","name","number","concat","catch","error","setTimeout","console","log","value","onChange","target","type","person","includes","map","filteredName","key","onClick","delObject","window","confirm","alert","ReactDOM","render","document","getElementById"],"mappings":"mOAkBe,EAfA,WAEX,OADgBA,IAAMC,IAHV,iBAIGC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa9B,EAVA,SAACC,GAEZ,OADgBL,IAAMM,KARV,gBAQwBD,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ9B,EALO,SAACG,GAEnB,OADgBP,IAAMQ,OAbV,gBAa2BD,EAAUE,IAClCP,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCqF9BM,EAjGH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACPC,EADO,KACEC,EADF,OAEgBF,mBAAS,IAFzB,mBAEPG,EAFO,KAEEC,EAFF,OAGoBJ,mBAAS,IAH7B,mBAGPK,EAHO,KAGIC,EAHJ,OAIcN,mBAAS,IAJvB,mBAIPO,EAJO,KAICC,EAJD,OAK0BR,mBAAS,MALnC,mBAKPS,EALO,KAKOC,EALP,KAOdC,qBAAU,WACNC,IAAkBrB,MAAK,SAAAC,GAAQ,OAAIU,EAAWV,QAC/C,IAEH,IA+CMqB,EAAe,SAAC,GAAe,IAAdC,EAAa,EAAbA,QACnB,OAAgB,OAAZA,EACO,KAGP,yBAAKC,UAAU,SACVD,IAKb,OACE,6BACE,yCACA,kBAACD,EAAD,CAAcC,QAAWL,IACzB,0BAAMO,SA9DQ,SAACC,GAEfA,EAAMC,iBACN,IAAMC,EAAa,CACfC,KAAMjB,EACNkB,OAAQhB,GAEZH,EAAWD,EAAQqB,OAAOH,IACtBP,EAAgBO,GACf5B,MAAK,SAAAC,GACFU,EAAWD,EAAQqB,OAAO9B,OAGjC+B,OAAM,SAAAC,GACHd,EAAgB,GAAD,OAAIc,EAAMhC,SAASC,OAClCgC,YAAW,WACPf,EAAgB,QACjB,KACHgB,QAAQC,IAAIH,EAAMhC,SAASC,SAG/BW,EAAW,IACXE,EAAa,MAyCX,uCAAY,2BAAOsB,MAAOzB,EAAS0B,SAtChB,SAACZ,GACtBb,EAAWa,EAAMa,OAAOF,UAqCtB,KACA,+CAAoB,2BAAOA,MAAOvB,EAAWwB,SAnCzB,SAACZ,GACvBX,EAAaW,EAAMa,OAAOF,UAkCxB,KACA,iCAAM,4BAAQG,KAAK,UAAb,OAAN,MAEF,uCACA,wCACY,2BAAOH,MAAOrB,EAAQsB,SApCf,SAACZ,GACpBT,EAAUS,EAAMa,OAAOF,WAuCvB,6BACK3B,EAAQM,QAAO,SAAAyB,GAAM,OAAIA,EAAOZ,KAAKa,SAAS1B,MAAS2B,KAAI,SAAAC,GAAY,OACpE,wBAAIC,IAAKD,EAAarC,GAAIiB,UAAU,SAC/BoB,EAAaf,KADlB,MAC2Be,EAAad,OACnC,4BAAQgB,QAAW,kBAxCbC,EAwCiCH,OAvCjDI,OAAOC,QAAQ,mCAAoCF,EAAUlB,OAC5DR,EAAuB0B,GAAW/C,MAAK,SAAAC,GACnCoB,IAAkBrB,MAAK,SAAAC,GAAQ,OAAIU,EAAWV,SAC/C+B,OAAM,SAAAC,GACLiB,MAAM,mBAAoBH,EAAUlB,KAAM,+CALhC,IAACkB,IAwCN,iB,MCrFrBI,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.d9074d35.chunk.js","sourcesContent":["import Axios from 'axios'\nconst baseUrl = '/api/persons/'\n\nconst getAll = () => {\n    const promise = Axios.get(baseUrl)\n    return promise.then(response => response.data)\n}\n\nconst create = (NewObj) => {\n    const request = Axios.post(baseUrl, NewObj)\n    return request.then(response => response.data)\n}\n\nconst deleteContact = (deleteObj) => {\n    const request = Axios.delete(baseUrl + deleteObj.id)\n    return request.then(response => response.data)\n}\n\nexport default {\n    getAll, create, deleteContact\n}","import React, {useState, useEffect} from 'react'\nimport services from './components/services'\n\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState(\"\")\n    const [newPhoneN, setNewPhoneN] = useState(\"\")\n    const [filter, setFilter] = useState('')\n    const [errorMessage, setErrorMessage] = useState(null)\n    \n    useEffect(()=> {\n        services.getAll().then(response => setPersons(response))\n    }, [])\n\n    const addPerson = (event) =>{\n        var nameRepeats = false\n        event.preventDefault()\n        const nameObject = {\n            name: newName,\n            number: newPhoneN,\n        }\n        setPersons(persons.concat(nameObject))\n            services.create(nameObject)\n            .then(response => {\n                setPersons(persons.concat(response))\n            }\n        )\n        .catch(error => {\n            setErrorMessage(`${error.response.data}`)\n            setTimeout(() =>{\n                setErrorMessage(null)\n            }, 5000)\n            console.log(error.response.data)\n        })\n        \n        setNewName(\"\")\n        setNewPhoneN(\"\")\n    }\n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value)\n    }\n\n    const handlePhoneChange = (event) => {\n        setNewPhoneN(event.target.value)\n    }\n        \n    const contactsToShow = (event) =>{\n        setFilter(event.target.value)\n    }\n\n    const deleteContact = (delObject) => {\n        if(window.confirm(\"Are you sure you want to delete \", delObject.name)){\n            services.deleteContact(delObject).then(response => {\n                services.getAll().then(response => setPersons(response))\n            }).catch(error => {\n                alert('The contact for ', delObject.name, ' has encountered an error being deleted')\n            })\n        }\n    }\n\n    const ErrorMessage = ({message}) => {\n        if (message === null) {\n            return null\n        }\n        return(\n            <div className='error'>\n                {message}\n            </div>\n        )\n    }\n\n    return(\n      <div>\n        <h2>Phonebook</h2>\n        <ErrorMessage message = {errorMessage}/>\n        <form onSubmit={addPerson}> \n          <div> name: <input value={newName} onChange={handleNameChange}/> </div>\n          <div> phone number: <input value={newPhoneN} onChange={handlePhoneChange}/> </div>\n          <div> <button type=\"submit\">add</button> </div>\n        </form>\n        <h2>Numbers</h2>\n        <div>\n            filter: <input value={filter} onChange={contactsToShow}/>\n        </div>\n        \n        \n        <div>\n            {persons.filter(person => person.name.includes(filter)).map(filteredName => (\n                <li key={filteredName.id} className='notes'>\n                    {filteredName.name} : {filteredName.number} \n                    {<button onClick = {() => deleteContact(filteredName)}>Delete</button>}\n                </li>\n            ))}\n        </div>  \n      </div>\n    )\n      \n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './app.js'\nimport './index.css'\n\n\nReactDOM.render(<App /> ,document.getElementById('root'))"],"sourceRoot":""}